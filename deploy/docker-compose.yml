services:
  livekit:
    image: livekit/livekit-server:latest
    command: ["--config", "/livekit.yaml"]
    restart: unless-stopped
    ports:
      - "7880:7880"
      - "7881:7881/tcp"
      - "3478:3478/udp"
      - "${LIVEKIT_RTC_PORT_RANGE_START:-50000}-${LIVEKIT_RTC_PORT_RANGE_END:-50010}:${LIVEKIT_RTC_PORT_RANGE_START:-50000}-${LIVEKIT_RTC_PORT_RANGE_END:-50010}/udp"
    environment:
      LIVEKIT_KEYS: "${LIVEKIT_API_KEY:-devkey}: ${LIVEKIT_API_SECRET:-devsecret}"
    volumes:
      - ./livekit.yaml:/livekit.yaml:ro
